v {xschem version=3.4.6RC file_version=1.2
}
G {}
K {}
V {}
S {}
E {}
T {FOLDED CASCODE OTA} 1330 -60 0 0 0.4 0.4 {}
T {BIAS CIRCUIT} 500 -60 0 0 0.4 0.4 {}
N 1520 -620 1520 -510 {
lab=#net1}
N 1700 -620 1700 -510 {
lab=#net2}
N 1520 -340 1520 -300 {
lab=#net3}
N 1700 -340 1700 -300 {
lab=#net4}
N 1700 -450 1700 -400 {
lab=Vout}
N 1520 -450 1520 -400 {
lab=#net5}
N 1560 -480 1660 -480 {
lab=VB1}
N 1560 -650 1660 -650 {
lab=#net5}
N 1520 -430 1590 -430 {
lab=#net5}
N 1590 -650 1590 -430 {
lab=#net5}
N 1560 -370 1660 -370 {
lab=VB2}
N 1560 -220 1660 -220 {
lab=VP}
N 1520 -730 1520 -680 {
lab=VDD}
N 1520 -730 1700 -730 {
lab=VDD}
N 1700 -730 1700 -680 {
lab=VDD}
N 1140 -600 1140 -380 {
lab=#net1}
N 1140 -600 1520 -600 {
lab=#net1}
N 1290 -570 1290 -380 {
lab=#net2}
N 1290 -570 1700 -570 {
lab=#net2}
N 1070 -350 1100 -350 {
lab=V+}
N 1330 -350 1360 -350 {
lab=V-}
N 1520 -170 1700 -170 {
lab=VSS}
N 1140 -320 1140 -270 {
lab=#net6}
N 1140 -270 1290 -270 {
lab=#net6}
N 1290 -320 1290 -270 {
lab=#net6}
N 1220 -270 1220 -250 {
lab=#net6}
N 1150 -220 1180 -220 {
lab=VP}
N 1700 -430 1790 -430 {
lab=Vout}
N 1610 -520 1610 -480 {
lab=VB1}
N 1520 -300 1520 -250 {
lab=#net3}
N 1700 -300 1700 -250 {
lab=#net4}
N 1520 -190 1520 -170 {
lab=VSS}
N 1700 -190 1700 -170 {
lab=VSS}
N 1520 -680 1520 -650 {
lab=VDD}
N 1700 -680 1700 -650 {
lab=VDD}
N 1700 -220 1700 -190 {
lab=VSS}
N 1520 -220 1520 -190 {
lab=VSS}
N 1220 -220 1220 -190 {
lab=VSS}
N 1290 -350 1290 -320 {
lab=#net6}
N 1140 -350 1140 -320 {
lab=#net6}
N 880 -520 880 -300 {
lab=VB2}
N 720 -550 840 -550 {
lab=#net7}
N 680 -520 680 -250 {
lab=#net7}
N 880 -730 880 -580 {
lab=VDD}
N 480 -730 880 -730 {
lab=VDD}
N 680 -730 680 -550 {
lab=VDD}
N 880 -580 880 -550 {
lab=VDD}
N 480 -170 880 -170 {
lab=VSS}
N 480 -220 480 -190 {
lab=VSS}
N 520 -220 640 -220 {
lab=VP}
N 580 -320 580 -220 {
lab=VP}
N 480 -320 580 -320 {
lab=VP}
N 780 -270 840 -270 {
lab=VB2}
N 780 -360 780 -270 {
lab=VB2}
N 780 -360 880 -360 {
lab=VB2}
N 680 -440 780 -440 {
lab=#net7}
N 780 -550 780 -440 {
lab=#net7}
N 1510 -370 1520 -370 {
lab=VSS}
N 1510 -370 1510 -170 {
lab=VSS}
N 1700 -370 1710 -370 {
lab=VSS}
N 1710 -370 1710 -170 {
lab=VSS}
N 1700 -170 1710 -170 {
lab=VSS}
N 1510 -480 1520 -480 {
lab=VDD}
N 1510 -730 1510 -480 {
lab=VDD}
N 1510 -730 1520 -730 {
lab=VDD}
N 1700 -730 1710 -730 {
lab=VDD}
N 1710 -730 1710 -480 {
lab=VDD}
N 1700 -480 1710 -480 {
lab=VDD}
N 1610 -790 1610 -730 {
lab=VDD}
N 680 -790 680 -730 {
lab=VDD}
N 1610 -410 1610 -370 {
lab=VB2}
N 1610 -260 1610 -220 {
lab=VP}
N 680 -170 680 -110 {
lab=VSS}
N 1220 -170 1510 -170 {
lab=VSS}
N 1220 -190 1220 -170 {
lab=VSS}
N 880 -240 880 -170 {
lab=VSS}
N 680 -190 680 -170 {
lab=VSS}
N 480 -190 480 -170 {
lab=VSS}
N 880 -270 880 -240 {
lab=VSS}
N 680 -220 680 -190 {
lab=VSS}
N 1610 -170 1610 -110 {
lab=VSS}
N 1510 -170 1520 -170 {
lab=VSS}
N -620 -150 -620 -130 {
lab=GND}
N -620 -250 -620 -210 {
lab=VSS}
N -540 -150 -540 -130 {
lab=GND}
N -620 -130 -620 -110 {
lab=GND}
N -540 -250 -540 -210 {
lab=VDD}
N -540 -130 -540 -110 {
lab=GND}
N -460 -150 -460 -130 {
lab=GND}
N -460 -250 -460 -210 {
lab=VrefBG}
N -460 -130 -460 -110 {
lab=GND}
N -380 -150 -380 -130 {
lab=GND}
N -380 -250 -380 -210 {
lab=V+}
N -380 -130 -380 -110 {
lab=GND}
N -300 -150 -300 -130 {
lab=GND}
N -300 -250 -300 -210 {
lab=V-}
N -300 -130 -300 -110 {
lab=GND}
N 480 -520 480 -250 {
lab=VP}
N 480 -730 480 -550 {
lab=VDD}
N 270 -730 270 -580 {
lab=VDD}
N 270 -730 480 -730 {
lab=VDD}
N 310 -550 440 -550 {
lab=VB1}
N 270 -190 270 -170 {
lab=VSS}
N 270 -170 480 -170 {
lab=VSS}
N 270 -220 270 -190 {
lab=VSS}
N 270 -520 270 -250 {
lab=VB1}
N 270 -460 370 -460 {
lab=VB1}
N 370 -550 370 -460 {
lab=VB1}
N 200 -220 230 -220 {
lab=VrefBG}
N 270 -580 270 -550 {
lab=VDD}
C {sky130_fd_pr/nfet_01v8.sym} 1310 -350 0 1 {name=M6
W=1
L=1
nf=1 
mult=20
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 1680 -370 0 0 {name=M7
W=1
L=3
nf=1
mult=5
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
q}
C {sky130_fd_pr/nfet_01v8.sym} 1540 -370 0 1 {name=M8
W=1
L=3
nf=1 
mult=5
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 1680 -220 0 0 {name=M9
W=0.5
L=6.5
nf=1
mult=5
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 1540 -220 0 1 {name=M10
W=0.5
L=6.5
nf=1 
mult=5
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 1200 -220 0 0 {name=M11
W=0.5
L=6.5
nf=1 
mult=10
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {iopin.sym} 1790 -430 0 0 {name=p2 lab=Vout}
C {lab_pin.sym} 1610 -410 0 1 {name=p8 sig_type=std_logic lab=VB2
}
C {lab_pin.sym} 1610 -520 2 0 {name=p4 sig_type=std_logic lab=VB1}
C {lab_pin.sym} 1610 -260 2 0 {name=p11 sig_type=std_logic lab=VP}
C {lab_pin.sym} 1150 -220 0 0 {name=p12 sig_type=std_logic lab=VP}
C {sky130_fd_pr/nfet_01v8.sym} 1120 -350 0 0 {name=M1
W=1
L=1
nf=1 
mult=20
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {lab_pin.sym} 1070 -350 0 0 {name=p10 sig_type=std_logic lab=V+}
C {lab_pin.sym} 1360 -350 0 1 {name=p13 sig_type=std_logic lab=V-}
C {sky130_fd_pr/nfet_01v8.sym} 500 -220 0 1 {name=M12
W=0.5
L=6.5
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 660 -220 0 0 {name=M13
W=0.5
L=6.5
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 860 -270 0 0 {name=M17
W=0.42
L=18
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {lab_pin.sym} 680 -790 2 0 {name=p16 sig_type=std_logic lab=VDD}
C {lab_pin.sym} 880 -360 2 0 {name=p18 sig_type=std_logic lab=VB2}
C {lab_pin.sym} 580 -280 0 1 {name=p19 sig_type=std_logic lab=VP}
C {lab_pin.sym} 370 -510 2 0 {name=p3 sig_type=std_logic lab=VB1}
C {lab_pin.sym} 1610 -790 2 0 {name=p1 sig_type=std_logic lab=VDD}
C {lab_pin.sym} 680 -110 2 0 {name=p20 sig_type=std_logic lab=VSS}
C {lab_pin.sym} 1610 -110 2 0 {name=p5 sig_type=std_logic lab=VSS}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 860 -550 0 0 {name=M18
L=6
W=0.5
nf=1 mult=4
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 700 -550 0 1 {name=M15
L=6
W=0.5
nf=1 mult=4
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 1540 -650 0 1 {name=M3
L=3
W=1
nf=1 mult=6
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 1680 -650 0 0 {name=M2
L=3
W=1
nf=1 mult=6
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 1540 -480 0 1 {name=M5
L=1.5
W=1
nf=1 mult=10
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 1680 -480 0 0 {name=M16
L=1.5
W=1
nf=1 mult=10
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/corner.sym} -590 -510 0 0 {name=CORNER only_toplevel=true corner=tt}
C {simulator_commands.sym} -440 -510 0 0 {name="COMMANDS"
simulator="ngspice"
only_toplevel="false" 
value="
.param VDD=1.8
.param VrefBG=1.2
.save
+ @m.xm1.msky130_fd_pr__nfet_01v8[gm]
+ v(@m.xm1.msky130_fd_pr__nfet_01v8[vth])
+ @m.xm1.msky130_fd_pr__nfet_01v8[gds]
+ @m.xm1.msky130_fd_pr__nfet_01v8[id]

+ @m.xm6.msky130_fd_pr__nfet_01v8[gm]
+ v(@m.xm6.msky130_fd_pr__nfet_01v8[vth])
+ @m.xm6.msky130_fd_pr__nfet_01v8[gds]
+ @m.xm6.msky130_fd_pr__nfet_01v8[id]

+ @m.xm7.msky130_fd_pr__nfet_01v8[gm]
+ v(@m.xm7.msky130_fd_pr__nfet_01v8[vth])
+ @m.xm7.msky130_fd_pr__nfet_01v8[gds]
+ @m.xm7.msky130_fd_pr__nfet_01v8[id]

+ @m.xm8.msky130_fd_pr__nfet_01v8[gm]
+ v(@m.xm8.msky130_fd_pr__nfet_01v8[vth])
+ @m.xm8.msky130_fd_pr__nfet_01v8[gds]
+ @m.xm8.msky130_fd_pr__nfet_01v8[id]

+ @m.xm9.msky130_fd_pr__nfet_01v8[gm]
+ v(@m.xm9.msky130_fd_pr__nfet_01v8[vth])
+ @m.xm9.msky130_fd_pr__nfet_01v8[gds]
+ @m.xm9.msky130_fd_pr__nfet_01v8[id]

+ @m.xm10.msky130_fd_pr__nfet_01v8[gm]
+ v(@m.xm10.msky130_fd_pr__nfet_01v8[vth])
+ @m.xm10.msky130_fd_pr__nfet_01v8[gds]
+ @m.xm10.msky130_fd_pr__nfet_01v8[id]

+ @m.xm11.msky130_fd_pr__nfet_01v8[gm]
+ v(@m.xm11.msky130_fd_pr__nfet_01v8[vth])
+ @m.xm11.msky130_fd_pr__nfet_01v8[gds]
+ @m.xm11.msky130_fd_pr__nfet_01v8[id]

+ @m.xm12.msky130_fd_pr__nfet_01v8[gm]
+ v(@m.xm12.msky130_fd_pr__nfet_01v8[vth])
+ @m.xm12.msky130_fd_pr__nfet_01v8[gds]
+ @m.xm12.msky130_fd_pr__nfet_01v8[id]

+ @m.xm13.msky130_fd_pr__nfet_01v8[gm]
+ v(@m.xm13.msky130_fd_pr__nfet_01v8[vth])
+ @m.xm13.msky130_fd_pr__nfet_01v8[gds]
+ @m.xm13.msky130_fd_pr__nfet_01v8[id]

+ @m.xm17.msky130_fd_pr__nfet_01v8[gm]
+ v(@m.xm17.msky130_fd_pr__nfet_01v8[vth])
+ @m.xm17.msky130_fd_pr__nfet_01v8[gds]
+ @m.xm17.msky130_fd_pr__nfet_01v8[id]

+ @m.xm19.msky130_fd_pr__nfet_01v8[gm]
+ v(@m.xm19.msky130_fd_pr__nfet_01v8[vth])
+ @m.xm19.msky130_fd_pr__nfet_01v8[gds]
+ @m.xm19.msky130_fd_pr__nfet_01v8[id]

+ @m.xm2.msky130_fd_pr__pfet_01v8_lvt[gm]
+ v(@m.xm2.msky130_fd_pr__pfet_01v8_lvt[vth])
+ @m.xm2.msky130_fd_pr__pfet_01v8_lvt[gds]
+ @m.xm2.msky130_fd_pr__pfet_01v8_lvt[id]

+ @m.xm3.msky130_fd_pr__pfet_01v8_lvt[gm]
+ v(@m.xm3.msky130_fd_pr__pfet_01v8_lvt[vth])
+ @m.xm3.msky130_fd_pr__pfet_01v8_lvt[gds]
+ @m.xm3.msky130_fd_pr__pfet_01v8_lvt[id]

+ @m.xm4.msky130_fd_pr__pfet_01v8_lvt[gm]
+ v(@m.xm4.msky130_fd_pr__pfet_01v8_lvt[vth])
+ @m.xm4.msky130_fd_pr__pfet_01v8_lvt[gds]
+ @m.xm4.msky130_fd_pr__pfet_01v8_lvt[id]

+ @m.xm5.msky130_fd_pr__pfet_01v8_lvt[gm]
+ v(@m.xm5.msky130_fd_pr__pfet_01v8_lvt[vth])
+ @m.xm5.msky130_fd_pr__pfet_01v8_lvt[gds]
+ @m.xm5.msky130_fd_pr__pfet_01v8_lvt[id]

+ @m.xm14.msky130_fd_pr__pfet_01v8_lvt[gm]
+ v(@m.xm14.msky130_fd_pr__pfet_01v8_lvt[vth])
+ @m.xm14.msky130_fd_pr__pfet_01v8_lvt[gds]
+ @m.xm14.msky130_fd_pr__pfet_01v8_lvt[id]

+ @m.xm15.msky130_fd_pr__pfet_01v8_lvt[gm]
+ v(@m.xm15.msky130_fd_pr__pfet_01v8_lvt[vth])
+ @m.xm15.msky130_fd_pr__pfet_01v8_lvt[gds]
+ @m.xm15.msky130_fd_pr__pfet_01v8_lvt[id]

+ @m.xm16.msky130_fd_pr__pfet_01v8_lvt[gm]
+ v(@m.xm16.msky130_fd_pr__pfet_01v8_lvt[vth])
+ @m.xm16.msky130_fd_pr__pfet_01v8_lvt[gds]
+ @m.xm16.msky130_fd_pr__pfet_01v8_lvt[id]

+ @m.xm18.msky130_fd_pr__pfet_01v8_lvt[gm]
+ v(@m.xm18.msky130_fd_pr__pfet_01v8_lvt[vth])
+ @m.xm18.msky130_fd_pr__pfet_01v8_lvt[gds]
+ @m.xm18.msky130_fd_pr__pfet_01v8_lvt[id]

.control
  save all
  op
  show
  write Folded_cascode_op.raw
.endc
"}
C {devices/vsource.sym} -620 -180 0 0 {name=V0 value=0 savecurrent=false}
C {devices/gnd.sym} -620 -110 0 0 {name=l3 lab=GND}
C {devices/vsource.sym} -540 -180 0 0 {name=V2 value=\{VDD\} savecurrent=false}
C {devices/lab_wire.sym} -620 -250 0 0 {name=p6 sig_type=std_logic lab=VSS}
C {devices/lab_wire.sym} -540 -250 0 0 {name=p7 sig_type=std_logic lab=VDD}
C {devices/gnd.sym} -540 -110 0 0 {name=l4 lab=GND}
C {devices/vsource.sym} -460 -180 0 0 {name=V4 value=\{VrefBG\} savecurrent=false}
C {devices/lab_wire.sym} -460 -250 0 0 {name=p9 sig_type=std_logic lab=VrefBG}
C {devices/gnd.sym} -460 -110 0 0 {name=l5 lab=GND}
C {devices/vsource.sym} -380 -180 0 0 {name=V1 value=1.2 savecurrent=false}
C {devices/lab_wire.sym} -380 -250 0 0 {name=p14 sig_type=std_logic lab=V+}
C {devices/gnd.sym} -380 -110 0 0 {name=l1 lab=GND}
C {devices/vsource.sym} -300 -180 0 0 {name=V3 value=1.2 savecurrent=false}
C {devices/lab_wire.sym} -300 -250 0 0 {name=p17 sig_type=std_logic lab=V-}
C {devices/gnd.sym} -300 -110 0 0 {name=l2 lab=GND}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 460 -550 0 0 {name=M4
L=6
W=0.5
nf=1 mult=1
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/pfet_01v8_lvt.sym} 290 -550 0 1 {name=M14
L=6
W=0.5
nf=1 mult=1
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/nfet_01v8.sym} 250 -220 0 0 {name=M19
W=0.45
L=18
nf=1 
mult=1
ad="'int((nf+1)/2) * W/nf * 0.29'" 
pd="'2*int((nf+1)/2) * (W/nf + 0.29)'"
as="'int((nf+2)/2) * W/nf * 0.29'" 
ps="'2*int((nf+2)/2) * (W/nf + 0.29)'"
nrd="'0.29 / W'" nrs="'0.29 / W'"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {lab_pin.sym} 200 -220 0 0 {name=p25 sig_type=std_logic lab=VrefBG}
